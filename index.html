<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Per Te üíò</title>

<style>
:root{
  --bg1:#ffd6e7;
  --bg2:#fff1f7;
  --accent:#ff4d8d;
  --accent2:#ff7aa8;
  --text:#2b2b2b;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: system-ui, sans-serif;
  min-height:100vh;
  background: radial-gradient(circle at top, var(--bg2), var(--bg1));
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

.card{
  width:min(1000px, 96vw);
  background:#ffffffdd;
  backdrop-filter: blur(12px);
  border-radius:32px;
  padding:40px;
  box-shadow:0 25px 60px rgba(0,0,0,.18);
  text-align:center;
  position:relative;
}

.catGif{
  width:240px;
  max-width:60vw;
  height:auto;
  margin-bottom:30px;
  animation: floaty 2.2s ease-in-out infinite;
  border-radius:24px;
  padding:10px;
  background:white;
  box-shadow:0 20px 55px rgba(0,0,0,.25);
}

@keyframes floaty{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}

h1{
  font-size:52px;
  margin:10px 0;
  color:var(--text);
}

.subtitle{
  font-size:18px;
  opacity:.85;
  margin-bottom:30px;
}

button{
  border:none;
  padding:18px 36px;
  border-radius:999px;
  font-weight:bold;
  font-size:20px;
  cursor:pointer;
  transition:.2s;
  white-space:nowrap;
}

button:hover{
  transform:scale(1.08);
}

#yesBtn, #revealBtn, .nextBtn{
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  color:white;
}

.noGhost{
  opacity:0;
  pointer-events:none;
}

#noBtn{
  background:white;
  border:2px solid var(--accent);
  color:var(--accent);
  position:absolute;
  z-index:3;
  opacity:0;
}

.btnGroup{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:60px;
  min-height:240px;
}

.hidden{ display:none; }

.secondGif{
  width:260px;
  margin:25px auto;
  border-radius:20px;
  box-shadow:0 18px 40px rgba(0,0,0,.25);
  display:block;
}

.destinationTitle{
  font-size:64px;
  color:var(--accent);
}

.mapImage{
  width:650px;
  max-width:95vw;
  margin:30px auto;
  border-radius:28px;
  box-shadow:0 30px 70px rgba(0,0,0,.3);
  display:block;
}

.hotelName{
  font-size:58px;
  color:var(--accent);
  margin-bottom:30px;
}

.roomGallery{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:25px;
  margin:30px 0 40px 0;
  justify-items:center;
}

.roomGallery img{
  width:100%;
  max-width:480px;
  border-radius:24px;
  box-shadow:0 25px 60px rgba(0,0,0,.3);
  transition:.3s;
}

.roomGallery img:hover{
  transform:scale(1.05);
}

.roomGallery img:nth-child(3){
  grid-column: span 2;
  max-width:700px;
}

.saunaText{
  font-size:22px;
  margin-top:20px;
}

.hotelLink{
  display:inline-block;
  margin-top:15px;
  font-size:18px;
  color:var(--accent);
  text-decoration:none;
  font-weight:bold;
}

.hotelLink:hover{
  text-decoration:underline;
}

.sideArrow{
  position:absolute;
  right:-35px;
  top:50%;
  transform:translateY(-50%);
  width:65px;
  height:65px;
  border-radius:50%;
  background: linear-gradient(135deg,var(--accent),var(--accent2));
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 15px 35px rgba(0,0,0,.25);
  transition:.3s;
}

.sideArrow:hover{
  transform:translateY(-50%) scale(1.1);
}

.sideArrow span{
  color:white;
  font-size:30px;
}

/* PAGINA 5 */
.finalGif{
  width:min(700px, 90vw);
  height:auto;
  border-radius:24px;
  box-shadow:0 30px 70px rgba(0,0,0,.25);
}


</style>
</head>

<body>

<!-- PAGINA 1 -->
<div class="card" id="screen1">
  <img src="cat.gif" class="catGif">
  <h1>Mi ami? üíò</h1>
  <p class="subtitle">Scegli bene üòå</p>

  <div class="btnGroup" id="arena">
    <button id="yesBtn">S√å ü•∞</button>
    <button class="noGhost">NO üôÑ</button>
    <button id="noBtn">NO üôÑ</button>
  </div>
</div>

<!-- PAGINA 2 -->
<div class="card hidden" id="screen2">

  <div id="preamble">
    <h1>Lo sapevo üòç</h1>
    <img src="cat2.gif" class="secondGif">
    <p>Allora‚Ä¶ ti ho preso un regalo üéÅ</p>
    <p>Sei pronto a vederlo?</p>
    <button id="revealBtn">Sono pronto üò≥</button>
  </div>

  <div class="hidden" id="giftBox">
    <h1>Prepara la valigia üòè</h1>
    <p style="font-size:22px;">La nostra prossima destinazione √®...</p>
    <div class="destinationTitle">Bolzano ‚ú®</div>
    <img src="mappa.png" class="mapImage">
    <button class="nextBtn" id="nextBtn">Avanti ‚û°Ô∏è</button>
  </div>

  <div class="hidden" id="finalScreen">
    <div class="hotelName">Gasthof Zur Sonne ‚ú®</div>

    <div class="sideArrow" id="arrowBtn">
      <span>‚ûú</span>
    </div>

    <div class="roomGallery">
      <img src="immagine2.jpg">
      <img src="immagine3.jpg">
      <img src="immagine1.jpg">
    </div>

    <div class="saunaText">
      c'√® anche la sauna üòâ
    </div>

    <a class="hotelLink"
       href="https://www.zur-sonne.it/it/benessere/"
       target="_blank">
       Scopri l‚Äôarea benessere
    </a>
  </div>

</div>

<!-- PAGINA 5 -->
<div class="hidden fullGifPage" id="pageFive">
  <img src="cat3.gif" class="finalGif">
</div>

<script>
const screen1 = document.getElementById("screen1");
const screen2 = document.getElementById("screen2");

const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const arena = document.getElementById("arena");
const ghost = document.querySelector(".noGhost");

const revealBtn = document.getElementById("revealBtn");
const giftBox = document.getElementById("giftBox");
const preamble = document.getElementById("preamble");
const nextBtn = document.getElementById("nextBtn");
const finalScreen = document.getElementById("finalScreen");
const arrowBtn = document.getElementById("arrowBtn");
const pageFive = document.getElementById("pageFive");

function initNo(){
  const ghostRect = ghost.getBoundingClientRect();
  const arenaRect = arena.getBoundingClientRect();
  noBtn.style.width  = ghostRect.width + "px";
  noBtn.style.height = ghostRect.height + "px";
  noBtn.style.left = (ghostRect.left - arenaRect.left) + "px";
  noBtn.style.top  = (ghostRect.top  - arenaRect.top)  + "px";
  noBtn.style.opacity = "1";
}

function moveNo(mouseX, mouseY){
  const arenaRect = arena.getBoundingClientRect();
  const btnW = noBtn.offsetWidth;
  const btnH = noBtn.offsetHeight;

  const centerX = arenaRect.left + arenaRect.width / 2;
  const centerY = arenaRect.top  + arenaRect.height / 2;

  const newX = mouseX < centerX ? (arenaRect.width - btnW - 10) : 10;
  const newY = mouseY < centerY ? (arenaRect.height - btnH - 10) : 10;

  noBtn.style.left = newX + "px";
  noBtn.style.top  = newY + "px";
}

function escapeHandler(e){
  e.preventDefault();
  moveNo(e.clientX, e.clientY);
}

initNo();
window.addEventListener("resize", initNo);

noBtn.addEventListener("pointerenter", escapeHandler);
noBtn.addEventListener("pointerdown", escapeHandler);

yesBtn.addEventListener("click", () => {
  screen1.classList.add("hidden");
  screen2.classList.remove("hidden");
});

revealBtn.addEventListener("click", () => {
  preamble.classList.add("hidden");
  giftBox.classList.remove("hidden");
});

nextBtn.addEventListener("click", () => {
  giftBox.classList.add("hidden");
  finalScreen.classList.remove("hidden");
});

arrowBtn.addEventListener("click", () => {
  screen2.classList.add("hidden");   // FIX QUI
  pageFive.classList.remove("hidden");
});
</script>

</body>
</html>
